<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2019-07-31 Wed 08:32 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>jQuery</title>
<meta name="generator" content="Org mode">
<meta name="author" content="yaowuer">
<link rel='stylesheet' href='/asset/common.css' />
<script src='https://cdn.bootcss.com/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js'></script>
<script src='/asset/common.js'></script>
</head>
<body>
<div id="content">
<header>
<h1 class="title">jQuery</h1>
</header><nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org1c3bb8a">1. 简介</a></li>
<li><a href="#orgedbd996">2. 使用</a></li>
<li><a href="#org5a27757">3. 选择器 (Selector)</a>
<ul>
<li><a href="#org9593c19">3.1. 基本选择</a></li>
<li><a href="#org2eaa8ba">3.2. 过滤-伪类</a></li>
<li><a href="#orgac5512c">3.3. 过滤-方法</a></li>
<li><a href="#orgeebeecf">3.4. Form 表单相关</a></li>
<li><a href="#orga016c54">3.5. 按图索骥</a></li>
</ul>
</li>
<li><a href="#org6fb9092">4. DOM 操作</a>
<ul>
<li><a href="#org04c5f9e">4.1. text/html/val/attr/prop</a></li>
<li><a href="#orgafdafea">4.2. append/prepend/before/after/appendTo/prependTo/replaceWith</a></li>
<li><a href="#orgc28ec48">4.3. clone/remove/empty/detach</a></li>
<li><a href="#org09a20b1">4.4. css/addClass/removeClass/toggleClass/hasClass</a></li>
<li><a href="#org0447271">4.5. width/height/position/scroll</a></li>
</ul>
</li>
<li><a href="#org4bdc088">5. 事件 (Events)</a></li>
<li><a href="#org2407114">6. 动画效果 (Effects)</a></li>
<li><a href="#org1c43550">7. 异步提交 (Ajax)</a>
<ul>
<li><a href="#orgfb5c808">7.1. Form 表单获取数据</a></li>
<li><a href="#org61656a8">7.2. 表单验证</a></li>
</ul>
</li>
<li><a href="#orgd922a82">8. 其他函数</a></li>
<li><a href="#org6cbc9b3">9. 扩展与插件 (Extend/Plugins)</a></li>
<li><a href="#org3fae7eb">10. 示例. 拉勾网</a></li>
<li><a href="#orgf391795">11. 示例. 任务列表</a></li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li><a href="https://jquery.com/">https://jquery.com/</a></li>
<li><a href="https://www.w3school.com.cn/jquery/jquery_reference.asp">W3school 上的参考手册</a></li>
</ul>

<section id="outline-container-org1c3bb8a" class="outline-2">
<h2 id="org1c3bb8a"><span class="section-number-2">1</span> 简介</h2>
<div class="outline-text-2" id="text-1">
<p>
背景:
</p>
<ul class="org-ul">
<li>DOM 自身 API 太复杂太反人类</li>
<li>写浏览器兼容的代码太麻烦</li>
</ul>

<p>
特点:
</p>
<ul class="org-ul">
<li>是对原生方法的封装</li>
<li>语法简洁</li>
<li>链式操作，好用到爆炸</li>
</ul>

<p>
基本操作逻辑
</p>
<ol class="org-ol">
<li>选取元素 ($)</li>
<li>执行操作 (action)</li>
</ol>

<p>
比如:
</p>
<div class="org-src-container">
<pre class="src src-js">$(<span class="org-string">"div"</span>).css(<span class="org-string">"color"</span>, <span class="org-string">"red"</span>);
</pre>
</div>
</div>
</section>

<section id="outline-container-orgedbd996" class="outline-2">
<h2 id="orgedbd996"><span class="section-number-2">2</span> 使用</h2>
<div class="outline-text-2" id="text-2">
<p>
可以选择下载到本地，再引用到项目中:
</p>
<ul class="org-ul">
<li><a href="https://cdn.bootcss.com/jquery/3.4.1/jquery.js">https://cdn.bootcss.com/jquery/3.4.1/jquery.js</a></li>
<li><a href="https://cdn.bootcss.com/jquery/3.4.1/jquery-min.js">https://cdn.bootcss.com/jquery/3.4.1/jquery-min.js</a></li>
</ul>

<p>
其中 min 版本代表进行了压缩的版本，它的体积比较小，适合生产环境。如果有可能会去阅读 jquery 源码，那么应该选择前者。
</p>

<p>
也可以直接选择某个 CDN(内容分发网络) 服务商提供的超链接，比如:
</p>
<pre class="example">
&lt;script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.bootcss.com/jquery/3.4.1/jquery-min.js"&gt;&lt;/script&gt;
</pre>

<p>
常见的 CDN 服务网站有:
</p>
<ul class="org-ul">
<li><a href="https://www.bootcdn.cn/">https://www.bootcdn.cn/</a></li>
<li><a href="http://www.staticfile.org/">http://www.staticfile.org/</a></li>
<li><a href="http://jscdn.upai.com/">http://jscdn.upai.com/</a></li>
</ul>

<p>
问题:
</p>
<ul class="org-ul">
<li>什么是 CDN?</li>
<li>选择 CDN 有什么优点？有什么缺点？</li>
</ul>
</div>
</section>

<section id="outline-container-org5a27757" class="outline-2">
<h2 id="org5a27757"><span class="section-number-2">3</span> 选择器 (Selector)</h2>
<div class="outline-text-2" id="text-3">

<figure>
<img src="img/scrot_2019-07-30_03-24-29.png" alt="scrot_2019-07-30_03-24-29.png">

</figure>


<p>
<a href="https://www.w3school.com.cn/jquery/jquery_ref_selectors.asp">jQuery 参考手册 - 选择器</a>
</p>
</div>

<div id="outline-container-org9593c19" class="outline-3">
<h3 id="org9593c19"><span class="section-number-3">3.1</span> 基本选择</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">
<pre class="src src-js"><span class="org-comment-delimiter">// </span><span class="org-comment">by Id</span>
$(<span class="org-string">"#cart"</span>);

<span class="org-comment-delimiter">// </span><span class="org-comment">by Class</span>
$(<span class="org-string">".red"</span>);

<span class="org-comment-delimiter">// </span><span class="org-comment">by Element</span>
$(<span class="org-string">"div"</span>);

<span class="org-comment-delimiter">// </span><span class="org-comment">by Attribute</span>
$(<span class="org-string">"input[id]"</span>);         <span class="org-comment-delimiter">// </span><span class="org-comment">&#25152;&#26377;&#26377; id &#23646;&#24615;&#30340; input</span>
$(<span class="org-string">"input[name='n']"</span>);   <span class="org-comment-delimiter">// </span><span class="org-comment">&#25152;&#26377; name &#23646;&#24615;&#30340;&#20540;&#20026; n &#30340; input</span>
$(<span class="org-string">"input[name!='n']"</span>);  <span class="org-comment-delimiter">// </span><span class="org-comment">&#19981;&#31561;&#20110;</span>
$(<span class="org-string">"input[name$='n']"</span>);  <span class="org-comment-delimiter">// </span><span class="org-comment">&#20197; n &#32467;&#23614;</span>

<span class="org-comment-delimiter">// </span><span class="org-comment">&#32452;&#21512;</span>
$(<span class="org-string">"div#cart"</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">&#25152;&#26377; id &#20026; cart &#30340; div</span>
$(<span class="org-string">"#contents ul.people li"</span>);
$(<span class="org-string">"#contents &gt; div"</span>);
$(<span class="org-string">"#contents + div"</span>);

<span class="org-comment-delimiter">// </span><span class="org-comment">&#22810;&#20010;</span>
$(<span class="org-string">"div.myClass, ul.people"</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-org2eaa8ba" class="outline-3">
<h3 id="org2eaa8ba"><span class="section-number-3">3.2</span> 过滤-伪类</h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">
<pre class="src src-js">$(<span class="org-string">"input:first"</span>);
$(<span class="org-string">"input:last"</span>);
$(<span class="org-string">"div:gt(2)"</span>);

$(<span class="org-string">"tr:odd"</span>);  <span class="org-comment-delimiter">// </span><span class="org-comment">&#22855;&#25968;</span>
$(<span class="org-string">"tr:even"</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">&#20598;&#25968;</span>

$(<span class="org-string">":empty"</span>);  <span class="org-comment-delimiter">// </span><span class="org-comment">&#31354;&#33410;&#28857;</span>
$(<span class="org-string">":contains(text)"</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">&#21253;&#21547; text &#30340;&#20803;&#32032;</span>

$(<span class="org-string">"div:visible"</span>);
$(<span class="org-string">"div:animated"</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgac5512c" class="outline-3">
<h3 id="orgac5512c"><span class="section-number-3">3.3</span> 过滤-方法</h3>
<div class="outline-text-3" id="text-3-3">
<div class="org-src-container">
<pre class="src src-js">$(<span class="org-string">".x"</span>).has(<span class="org-string">"p"</span>);
$(<span class="org-string">".x"</span>).not(<span class="org-string">".bar"</span>);
$(<span class="org-string">".x"</span>).filter(<span class="org-string">".current"</span>);
$(<span class="org-string">".x"</span>).first();
$(<span class="org-string">".x"</span>).last();
$(<span class="org-string">".x"</span>).eq(5);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeebeecf" class="outline-3">
<h3 id="orgeebeecf"><span class="section-number-3">3.4</span> Form 表单相关</h3>
<div class="outline-text-3" id="text-3-4">
<p>
jQuery 提供了一些快速选取的语法，让你能更轻松对 form 表单进行选取:
</p>

<div class="org-src-container">
<pre class="src src-js">$(<span class="org-string">"form :checked"</span>);
$(<span class="org-string">":input"</span>);
$(<span class="org-string">":checked"</span>);
$(<span class="org-string">":selected"</span>);
$(<span class="org-string">":disabled"</span>);
</pre>
</div>

<p>
其他:
</p>
<ul class="org-ul">
<li><code>:password</code></li>
<li><code>:reset</code></li>
<li><code>:radio</code></li>
<li><code>:text</code></li>
<li><code>:submit</code></li>
<li><code>:checkbox</code></li>
<li><code>:button</code></li>
<li><code>:image</code></li>
<li><code>:file</code></li>
</ul>
</div>
</div>

<div id="outline-container-orga016c54" class="outline-3">
<h3 id="orga016c54"><span class="section-number-3">3.5</span> 按图索骥</h3>
<div class="outline-text-3" id="text-3-5">
<ul class="org-ul">
<li>父辈: parent/parents/parentsUntil/closest</li>
<li>子辈: children/find</li>
<li>兄弟: next/nextAll/prev/prevAll/siblings</li>
</ul>

<div class="org-src-container">
<pre class="src src-js">$(<span class="org-string">"#aaa"</span>).parentsUtil(<span class="org-string">".red"</span>);
$(<span class="org-string">"a"</span>).closest(<span class="org-string">"div"</span>);

$(<span class="org-string">"#main"</span>).children();
$(<span class="org-string">"#main"</span>).find(<span class="org-string">".xxx"</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">$("#main .xxx");</span>

<span class="org-keyword">var</span> <span class="org-variable-name">a</span> = $(<span class="org-string">"a"</span>);
a.siblings().css(<span class="org-string">"color"</span>, <span class="org-string">"red"</span>);
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org6fb9092" class="outline-2">
<h2 id="org6fb9092"><span class="section-number-2">4</span> DOM 操作</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org04c5f9e" class="outline-3">
<h3 id="org04c5f9e"><span class="section-number-3">4.1</span> text/html/val/attr/prop</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-js">$(<span class="org-string">"#aaa input"</span>).val($(<span class="org-string">"#aaa input"</span>).val() + <span class="org-string">".yyy"</span>);

<span class="org-keyword">var</span> <span class="org-variable-name">div</span> = $(<span class="org-string">"#aaa"</span>);
div.html(div.html() + <span class="org-string">"&lt;a href='#'&gt;xxx&lt;/a&gt;"</span>);

$(<span class="org-string">"#aaa"</span>).prop(<span class="org-string">"tagName"</span>);
$(<span class="org-string">"#aaa"</span>).attr(<span class="org-string">"id"</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgafdafea" class="outline-3">
<h3 id="orgafdafea"><span class="section-number-3">4.2</span> append/prepend/before/after/appendTo/prependTo/replaceWith</h3>
<div class="outline-text-3" id="text-4-2">
<p>
创建新节点:
</p>
<div class="org-src-container">
<pre class="src src-js"><span class="org-comment-delimiter">// </span><span class="org-comment">&#21019;&#24314;&#26032;&#33410;&#28857;</span>
$(<span class="org-string">"&lt;div&gt;3333333&lt;/div&gt;"</span>);

<span class="org-comment-delimiter">// </span><span class="org-comment">&#21019;&#24314;&#33410;&#28857;&#24182;&#20570;&#24456;&#22810;&#20854;&#20182;&#20107;&#24773;</span>
$(<span class="org-string">"&lt;div&gt;3333333&lt;/div&gt;"</span>)
    .click(<span class="org-keyword">function</span> () {
        alert(<span class="org-keyword">new</span> <span class="org-type">Date</span>())
    })
    .css(<span class="org-string">"color"</span>, <span class="org-string">"red"</span>)
    .css(<span class="org-string">"border"</span>, <span class="org-string">"1px solid green"</span>)
    .css(<span class="org-string">"width"</span>, <span class="org-string">"100px"</span>)
    .animate({ <span class="org-string">"width"</span>: <span class="org-string">"200px"</span>}, 2000)
    .appendTo(<span class="org-string">"body"</span>);

<span class="org-comment-delimiter">// </span><span class="org-comment">&#21019;&#24314;&#19968;&#20010;&#33410;&#28857;</span>
<span class="org-keyword">var</span> <span class="org-variable-name">element</span> = $(<span class="org-string">"&lt;div&gt;666666&lt;/div&gt;"</span>)
    .click(<span class="org-keyword">function</span> () {
        alert(<span class="org-keyword">new</span> <span class="org-type">Date</span>())
    })
    .css(<span class="org-string">"color"</span>, <span class="org-string">"red"</span>)
    .css(<span class="org-string">"border"</span>, <span class="org-string">"1px solid green"</span>)
    .css(<span class="org-string">"width"</span>, <span class="org-string">"100px"</span>);

$(<span class="org-string">"input"</span>).after(element);

<span class="org-comment-delimiter">// </span><span class="org-comment">&#27880;&#24847;&#65292;element &#22312; dom &#26641;&#20013;&#21482;&#23384;&#22312;&#19968;&#20221;</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">&#22914;&#26524;&#24819;&#26174;&#31034;&#22810;&#20010;&#65292;&#38656;&#35201;&#29992;&#21040; clone</span>
$(<span class="org-string">"input"</span>).before(element.clone());

<span class="org-comment-delimiter">// </span><span class="org-comment">&#22312; #aaa &#20803;&#32032;&#30340;&#26368;&#21518;&#19968;&#20010;&#23376;&#20803;&#32032;&#21518;&#28155;&#21152; element</span>
$(<span class="org-string">"#aaa"</span>).append(element);
element.appendTo(<span class="org-string">"#aaa"</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc28ec48" class="outline-3">
<h3 id="orgc28ec48"><span class="section-number-3">4.3</span> clone/remove/empty/detach</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li>clone，复制</li>
<li>remove，移除</li>
<li>empty，清空子元素</li>
<li>detach，分离</li>
</ul>
</div>
</div>

<div id="outline-container-org09a20b1" class="outline-3">
<h3 id="org09a20b1"><span class="section-number-3">4.4</span> css/addClass/removeClass/toggleClass/hasClass</h3>
<div class="outline-text-3" id="text-4-4">
<div class="org-src-container">
<pre class="src src-js">$(el).css(<span class="org-string">"color"</span>, <span class="org-string">"red"</span>);
$(el).css(<span class="org-string">"color"</span>, <span class="org-string">"red"</span>).css(<span class="org-string">"background"</span>, <span class="org-string">"white"</span>);
$(el).css({
    <span class="org-string">"color"</span>: <span class="org-string">"red"</span>,
    <span class="org-string">"background"</span>: <span class="org-string">"white"</span>
});

$(el).toggleClass(<span class="org-string">"red"</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-org0447271" class="outline-3">
<h3 id="org0447271"><span class="section-number-3">4.5</span> width/height/position/scroll</h3>
<div class="outline-text-3" id="text-4-5">
<p>
滚动到顶部、底部:
</p>
<div class="org-src-container">
<pre class="src src-js">$(<span class="org-string">'#scrlBotm'</span>).click(<span class="org-keyword">function</span> () {
    $(<span class="org-string">'html, body'</span>).animate({
        scrollTop: $(document).height()
    }, 1500);
});

$(<span class="org-string">'#scrlTop'</span>).click(<span class="org-keyword">function</span> () {
    $(<span class="org-string">'html, body'</span>).animate({
        scrollTop: <span class="org-string">'0px'</span>
    }, 1500);
});
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org4bdc088" class="outline-2">
<h2 id="org4bdc088"><span class="section-number-2">5</span> 事件 (Events)</h2>
<div class="outline-text-2" id="text-5">
<p>
API:
</p>
<ul class="org-ul">
<li><code>$("ul").on('click, function () {})</code></li>
<li><code>$("ul").on('click, "li", function () {})</code> 事件委托</li>
<li><code>$("ul").click(function () {})</code> 简化，语法糖</li>
<li><code>$("ul").off</code> 如果不带参数，那么就取消所有事件</li>
<li><code>one</code> 增加一次事件</li>
<li><code>bind/unbind</code></li>
</ul>

<p>
常用事件:
</p>
<ul class="org-ul">
<li>鼠标: click/dblclick/mouseenter/mouseover/mouseleave/hover</li>
<li>键盘: keydown/keyup/keypress</li>
<li>表单: focus/blur/change/select/submit</li>
<li>DOM: ready/load/unload/resize/scroll</li>
</ul>

<p>
基本示例:
</p>
<div class="org-src-container">
<pre class="src src-js">$(<span class="org-string">"li"</span>).click(<span class="org-keyword">function</span> (<span class="org-variable-name">e</span>) {
  alert($(<span class="org-constant">this</span>).text());  <span class="org-comment-delimiter">// </span><span class="org-comment">&#20989;&#25968;&#30340;&#21442;&#25968;&#65292;&#34920;&#31034; event &#20107;&#20214;&#12290;&#20351;&#29992; $(this) &#33719;&#21462;&#24403;&#21069;&#20803;&#32032;(target)</span>
});

$(<span class="org-string">"ul"</span>).on(<span class="org-string">"click"</span>, <span class="org-string">".xxx"</span>, <span class="org-keyword">function</span> (<span class="org-variable-name">e</span>) { <span class="org-comment-delimiter">// </span><span class="org-comment">&#20107;&#20214;&#22996;&#25176;&#26426;&#21046;</span>
    alert($(<span class="org-constant">this</span>).text() + <span class="org-string">"!"</span>);
});

$(<span class="org-string">"input"</span>).on(<span class="org-string">"keypress"</span>, <span class="org-keyword">function</span> (<span class="org-variable-name">e</span>) { <span class="org-comment-delimiter">// </span><span class="org-comment">&#38190;&#30424;&#20107;&#20214;</span>
    <span class="org-keyword">if</span> (e.keyCode === 13) {
        alert(<span class="org-string">"&#24744;&#36755;&#20837;&#30340;&#26159;: "</span> + $(<span class="org-constant">this</span>).val());
    }
});

$(<span class="org-string">"ul"</span>).off(); <span class="org-comment-delimiter">// </span><span class="org-comment">&#21024;&#38500;&#20803;&#32032;&#19978;&#25152;&#26377;&#20107;&#20214;</span>

<span class="org-comment-delimiter">// </span><span class="org-comment">&#30456;&#24403;&#20110; window.onload &#20294;&#25191;&#34892;&#26102;&#26426;&#26356;&#38752;&#21069; dom &#33410;&#28857;&#21152;&#36733;&#23436;&#20043;&#21518;&#31435;&#21051;&#25191;&#34892;&#30340;&#36923;&#36753;</span>
$(document).ready(<span class="org-keyword">function</span> () { });
$.ready(<span class="org-keyword">function</span> () { });
$(<span class="org-keyword">function</span> () { });
</pre>
</div>
</div>
</section>

<section id="outline-container-org2407114" class="outline-2">
<h2 id="org2407114"><span class="section-number-2">6</span> 动画效果 (Effects)</h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li>animate/delay</li>
<li>hide/show/toggle</li>
<li>fadeOut/fadeIn/fadeToggle/fadeTo</li>
<li>slideUp/slideDown/slideToggle</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span class="org-comment-delimiter">// </span><span class="org-comment">animate</span>

$(<span class="org-string">"ul.banner_bg"</span>)
    .css(<span class="org-string">"position"</span>, <span class="org-string">"fixed"</span>)
    .css(<span class="org-string">"left"</span>, <span class="org-string">"0"</span>)
    .css(<span class="org-string">"top"</span>, <span class="org-string">"0"</span>);

$(<span class="org-string">"ul.banner_bg img"</span>)
    .css(<span class="org-string">"width"</span>, <span class="org-string">"400px"</span>)
    .css(<span class="org-string">"height"</span>, <span class="org-string">"400xp"</span>);

$(<span class="org-string">"ul.banner_bg img"</span>)
    .animate({
        <span class="org-string">"width"</span>: <span class="org-string">"400px"</span>,
        <span class="org-string">"height"</span>: <span class="org-string">"400px"</span>
    }, 2000)
    .closest(<span class="org-string">"ul"</span>)
    .animate({
        <span class="org-string">"left"</span>: <span class="org-string">"800px"</span>
    }, 2000);

<span class="org-comment-delimiter">// </span><span class="org-comment">&#20854;&#20182;&#24555;&#25463;&#26041;&#24335;&#65292;&#27604;&#22914;:</span>

$(<span class="org-string">"xxx"</span>).fadeIn();     <span class="org-comment-delimiter">// </span><span class="org-comment">&#19981;&#24102;&#21442;&#25968;</span>
$(<span class="org-string">"xxx"</span>).fadeIn(2000); <span class="org-comment-delimiter">// </span><span class="org-comment">&#26102;&#38388;</span>
$(<span class="org-string">"xxx"</span>).fedeIn(<span class="org-keyword">function</span> () { alert(333); }); <span class="org-comment-delimiter">// </span><span class="org-comment">&#23436;&#25104;&#20043;&#21518;&#30340;&#21160;&#20316;</span>
$(<span class="org-string">"xxx"</span>).fedeIn(2000, <span class="org-keyword">function</span> () { alert(333); }); <span class="org-comment-delimiter">// </span><span class="org-comment">&#28789;&#27963;&#30340;&#21442;&#25968;</span>
</pre>
</div>
</div>
</section>

<section id="outline-container-org1c43550" class="outline-2">
<h2 id="org1c43550"><span class="section-number-2">7</span> 异步提交 (Ajax)</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li>$.ajax/$.ajaxSetup</li>
<li>$.get/$.post</li>
<li>$.load/$.getScript/$.getJSON</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span class="org-comment-delimiter">// </span><span class="org-comment">Using the core $.ajax() method</span>
$.ajax({

    <span class="org-comment-delimiter">// </span><span class="org-comment">The URL for the request</span>
    url: <span class="org-string">"post.php"</span>,

    <span class="org-comment-delimiter">// </span><span class="org-comment">The data to send (will be converted to a query string)</span>
    data: {
        id: 123
    },

    <span class="org-comment-delimiter">// </span><span class="org-comment">Whether this is a POST or GET request</span>
    type: <span class="org-string">"GET"</span>,

    <span class="org-comment-delimiter">// </span><span class="org-comment">The type of data we expect back</span>
    dataType : <span class="org-string">"json"</span>,
})
<span class="org-comment-delimiter">// </span><span class="org-comment">Code to run if the request succeeds (is done);</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">The response is passed to the function</span>
    .done(<span class="org-keyword">function</span>( <span class="org-variable-name">json</span> ) {
        $( <span class="org-string">"&lt;h1&gt;"</span> ).text( json.title ).appendTo( <span class="org-string">"body"</span> );
        $( <span class="org-string">"&lt;div class=\"content\"&gt;"</span>).html( json.html ).appendTo( <span class="org-string">"body"</span> );
    })
<span class="org-comment-delimiter">// </span><span class="org-comment">Code to run if the request fails; the raw request and</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">status codes are passed to the function</span>
    .fail(<span class="org-keyword">function</span>( <span class="org-variable-name">xhr</span>, <span class="org-variable-name">status</span>, <span class="org-variable-name">errorThrown</span> ) {
        alert( <span class="org-string">"Sorry, there was a problem!"</span> );
        console.log( <span class="org-string">"Error: "</span> + errorThrown );
        console.log( <span class="org-string">"Status: "</span> + status );
        console.dir( xhr );
    })
<span class="org-comment-delimiter">// </span><span class="org-comment">Code to run regardless of success or failure;</span>
    .always(<span class="org-keyword">function</span>( <span class="org-variable-name">xhr</span>, <span class="org-variable-name">status</span> ) {
        alert( <span class="org-string">"The request is complete!"</span> );
    });
</pre>
</div>

<p>
Example:
</p>
<div class="org-src-container">
<pre class="src src-js">$.ajax({
    url: <span class="org-string">'/xxx'</span>, <span class="org-comment-delimiter">// </span><span class="org-comment">&#20195;&#34920;&#35831;&#27714;&#30340;&#26381;&#21153;&#22120;&#22320;&#22336;</span>
    method: <span class="org-string">'get|post|..'</span>, <span class="org-comment-delimiter">// </span><span class="org-comment">&#20351;&#29992;&#30340;&#35831;&#27714;&#26041;&#27861;</span>
    headers: {}, <span class="org-comment-delimiter">// </span><span class="org-comment">&#35774;&#32622;&#35831;&#27714;&#22836;</span>

    contentType: <span class="org-string">'application/x-www-form-urlencoded|...'</span>, <span class="org-comment-delimiter">// </span><span class="org-comment">&#35831;&#27714;&#30340; enctype</span>
    data: <span class="org-string">'String'</span>|Object|Array, <span class="org-comment-delimiter">// </span><span class="org-comment">&#20256;&#36755;&#30340;&#25968;&#25454;</span>
    processData: <span class="org-constant">true</span>|<span class="org-constant">false</span>,     <span class="org-comment-delimiter">// </span><span class="org-comment">true: &#33509; data &#26159;&#23383;&#31526;&#20018;&#19981;&#22788;&#29702;&#65292;&#21542;&#21017;&#35843;&#29992; $.params(data, tranditional) &#23558;&#20854;&#36716;&#25442;&#20026; UrlSearchParams &#26684;&#24335;</span>
    tranditional: <span class="org-constant">false</span>|<span class="org-constant">true</span>,    <span class="org-comment-delimiter">// </span><span class="org-comment">&#27492;&#21442;&#25968;&#23558;&#20250;&#20256;&#32473;&#19978;&#36848; $.param &#20989;&#25968;&#65292;&#20915;&#23450;&#26159;&#21542;&#28145;&#24230;&#24207;&#21015;</span>

    dataType: <span class="org-string">'json?xml?text'</span>,   <span class="org-comment-delimiter">// </span><span class="org-comment">&#40664;&#35748;&#26681;&#25454; response &#22836;&#37096;&#30340;&#20449;&#24687;&#33258;&#21160;&#25512;&#27979;</span>
    <span class="org-keyword">async</span>: <span class="org-constant">true</span>|<span class="org-constant">false</span>,           <span class="org-comment-delimiter">// </span><span class="org-comment">&#26159;&#21542;&#20351;&#29992;&#24322;&#27493;&#35831;&#27714;&#30340;&#26041;&#24335;</span>
    xhr: () =&gt; { <span class="org-keyword">var</span> <span class="org-variable-name">xhr</span> = $.ajaxSettings.xhr() }, <span class="org-comment-delimiter">// </span><span class="org-comment">&#21019;&#24314; xhr &#21518;&#35843;&#29992;</span>
    xhrFields: { withCredentials: <span class="org-constant">true</span> },          <span class="org-comment-delimiter">// </span><span class="org-comment">&#36328;&#22495;</span>
    timeout, cache, accepts, contents, crossDomain, converters, jsonp, mimeType
}).done((data) =&gt; {
    console.log(data.xxx);
}).fail((xhr, status, err) =&gt; {
    console.error(err);
}).always((data|xhr, status) =&gt; {
    console.log(<span class="org-string">"&#32456;&#20110;&#32467;&#26463;&#20102;!"</span>);
});
</pre>
</div>
</div>

<div id="outline-container-orgfb5c808" class="outline-3">
<h3 id="orgfb5c808"><span class="section-number-3">7.1</span> Form 表单获取数据</h3>
<div class="outline-text-3" id="text-7-1">
<p>
serialize/serializeArray/params:
</p>

<div class="org-src-container">
<pre class="src src-js">$( <span class="org-string">"#myForm"</span> ).serialize();
<span class="org-comment-delimiter">// </span><span class="org-comment">field_1=something&amp;field2=somethingElse</span>

$( <span class="org-string">"#myForm"</span> ).serializeArray();
<span class="org-comment-delimiter">// </span><span class="org-comment">[</span>
<span class="org-comment-delimiter">//   </span><span class="org-comment">{</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">name : "field_1",</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">value : "something"</span>
<span class="org-comment-delimiter">//   </span><span class="org-comment">},</span>
<span class="org-comment-delimiter">//   </span><span class="org-comment">{</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">name : "field_2",</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">value : "somethingElse"</span>
<span class="org-comment-delimiter">//   </span><span class="org-comment">}</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org61656a8" class="outline-3">
<h3 id="org61656a8"><span class="section-number-3">7.2</span> 表单验证</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-js">$( <span class="org-string">"#form"</span> ).submit(<span class="org-keyword">function</span>( <span class="org-variable-name">event</span> ) {
    <span class="org-keyword">var</span> <span class="org-variable-name">inputtedPhoneNumber</span> = $( <span class="org-string">"#phone"</span> ).val();

    <span class="org-comment-delimiter">// </span><span class="org-comment">Match only numbers</span>
    <span class="org-keyword">var</span> <span class="org-variable-name">phoneNumberRegex</span> = <span class="org-string">/^\d*$/</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">If the phone number doesn't match the regex</span>
    <span class="org-keyword">if</span> ( !phoneNumberRegex.test( inputtedPhoneNumber ) ) {

        <span class="org-comment-delimiter">// </span><span class="org-comment">Usually show some kind of error message here</span>

        <span class="org-comment-delimiter">// </span><span class="org-comment">Prevent the form from submitting</span>
        event.preventDefault();
    } <span class="org-keyword">else</span> {
        <span class="org-comment-delimiter">// </span><span class="org-comment">Run $.ajax() here</span>
    }
});
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-orgd922a82" class="outline-2">
<h2 id="orgd922a82"><span class="section-number-2">8</span> 其他函数</h2>
<div class="outline-text-2" id="text-8">
<ul class="org-ul">
<li><code>$(el).get/index/size/toArray</code></li>
<li><code>$.trim/each/map/inArray/extend/isXxx</code></li>
</ul>
</div>
</section>

<section id="outline-container-org6cbc9b3" class="outline-2">
<h2 id="org6cbc9b3"><span class="section-number-2">9</span> 扩展与插件 (Extend/Plugins)</h2>
<div class="outline-text-2" id="text-9">
<ul class="org-ul">
<li><a href="https://plugins.jquery.com/">https://plugins.jquery.com/</a></li>
<li><a href="https://learn.jquery.com/plugins/basic-plugin-creation/">https://learn.jquery.com/plugins/basic-plugin-creation/</a></li>
</ul>

<p>
API:
</p>
<ul class="org-ul">
<li>jQuery.fn</li>
<li>jQuery.extend</li>
<li>jQuery.fn.extend</li>
</ul>

<div class="org-src-container">
<pre class="src src-js">(<span class="org-keyword">function</span> ( <span class="org-variable-name">$</span> ) {
    <span class="org-keyword">var</span> <span class="org-variable-name">shade</span> = <span class="org-string">"#556b2f"</span>;

    $.fn.greenify = <span class="org-keyword">function</span>() {
        <span class="org-constant">this</span>.css( <span class="org-string">"color"</span>, shade );
        <span class="org-keyword">return</span> <span class="org-constant">this</span>;
    };
}( jQuery ));
</pre>
</div>
</div>
</section>
<section id="outline-container-org3fae7eb" class="outline-2">
<h2 id="org3fae7eb"><span class="section-number-2">10</span> 示例. 拉勾网</h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">
<pre class="src src-js"><span class="org-keyword">function</span> <span class="org-function-name">showPositionsFloatWindow</span>() {
    <span class="org-keyword">var</span> <span class="org-variable-name">mydiv</span> = $(<span class="org-string">"&lt;div&gt;&lt;table id='mytable'&gt;&lt;tr&gt;&lt;th&gt;&#32844;&#20301;&lt;/th&gt;&lt;th&gt;&#24037;&#36164;&lt;/th&gt;&lt;th&gt;&#20844;&#21496;&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;"</span>);

    $(<span class="org-string">"body"</span>).prepend(mydiv);

    <span class="org-keyword">for</span> (<span class="org-keyword">var</span> <span class="org-variable-name">i</span> = 0; i &lt; $(<span class="org-string">".default_list"</span>).length; i++) {
        <span class="org-keyword">var</span> <span class="org-variable-name">xxx</span> = $(<span class="org-string">".default_list:eq("</span> + i + <span class="org-string">")"</span>);

        <span class="org-keyword">var</span> <span class="org-variable-name">a1</span> = $(<span class="org-string">".default_list:eq("</span> + i + <span class="org-string">")"</span>).attr(<span class="org-string">"data-positionname"</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">&#32844;&#20301;</span>
        <span class="org-keyword">var</span> <span class="org-variable-name">a2</span> = $(<span class="org-string">".default_list:eq("</span> + i + <span class="org-string">")"</span>).attr(<span class="org-string">"data-salary"</span>);  <span class="org-comment-delimiter">// </span><span class="org-comment">&#24037;&#36164;</span>
        <span class="org-keyword">var</span> <span class="org-variable-name">a3</span> = $(<span class="org-string">".default_list:eq("</span> + i + <span class="org-string">")"</span>).attr(<span class="org-string">"data-company"</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">&#20844;&#21496;</span>
        <span class="org-keyword">var</span> <span class="org-variable-name">td</span> = <span class="org-string">"&lt;tr&gt;&lt;td&gt;"</span> + a1 + <span class="org-string">"&lt;/td&gt;&lt;td&gt;"</span> + a2 + <span class="org-string">"&lt;/td&gt;&lt;td&gt;"</span> + a3 + <span class="org-string">"&lt;/td&gt;&lt;/tr&gt;"</span>;

        $(<span class="org-string">"#mytable"</span>).append(td);
    }

    $(<span class="org-string">"#mytable,th,tr,td"</span>).css(<span class="org-string">"border"</span>, <span class="org-string">"1px solid skyblue"</span>);
    mydiv.css(<span class="org-string">"width"</span>, <span class="org-string">"500px"</span>)
        .css(<span class="org-string">"height"</span>, <span class="org-string">"800px"</span>)
        .css(<span class="org-string">"position"</span>, <span class="org-string">"fixed"</span>)
        .css(<span class="org-string">"background"</span>, <span class="org-string">"#f0f0f0"</span>);
    mydiv.css(<span class="org-string">"z-index"</span>, <span class="org-string">"999"</span>);
}

<span class="org-keyword">function</span> <span class="org-function-name">showPositionsFloatWindow2</span>() {
    <span class="org-comment-delimiter">// </span><span class="org-comment">1. &#21019;&#24314;&#33410;&#28857;&#65292;&#25918;&#21040; body,&#28982;&#21518;&#35753;&#23427;&#28014;&#21160;&#36215;&#26469;</span>
    <span class="org-keyword">var</span> <span class="org-variable-name">$div</span> =
        $(<span class="org-string">"&lt;div&gt;&lt;i&gt;x&lt;/i&gt;&lt;ul&gt;&lt;/ul&gt;&lt;/div&gt;"</span>)
        .css({
            <span class="org-string">"position"</span>: <span class="org-string">"fixed"</span>,
            <span class="org-string">"left"</span>: <span class="org-string">"0"</span>,
            <span class="org-string">"top"</span>: <span class="org-string">"0"</span>,
            <span class="org-string">"width"</span>: <span class="org-string">"300px"</span>,
            <span class="org-string">"height"</span>: <span class="org-string">"300px"</span>,
            <span class="org-string">"padding"</span>: <span class="org-string">"10px"</span>,
            <span class="org-string">"margin"</span>: <span class="org-string">"10px"</span>,
            <span class="org-string">"overflow-y"</span>: <span class="org-string">"auto"</span>,
            <span class="org-string">"background"</span>: <span class="org-string">"#ffffff"</span>
        })
        .appendTo(<span class="org-string">"body"</span>);

    <span class="org-comment-delimiter">// </span><span class="org-comment">2. &#20174;&#39029;&#38754;&#20013;&#33719;&#21462;&#30456;&#20851;&#25968;&#25454;&#65292;&#24182;&#19988;&#23558;&#25968;&#25454;&#26174;&#31034;&#21040;&#21018;&#25165;&#30340; &#33410;&#28857;&#19978;</span>
    $(<span class="org-string">".default_list"</span>).each(<span class="org-keyword">function</span> (<span class="org-variable-name">index</span>, <span class="org-variable-name">item</span>) {
        $(<span class="org-string">"&lt;li&gt;"</span> + $(item).attr(<span class="org-string">"data-positionname"</span>) + <span class="org-string">" / "</span> + $(item).attr(<span class="org-string">"data-salary"</span>) + <span class="org-string">"&lt;/li&gt;"</span>)
            .css({
                <span class="org-string">"border-bottom"</span>: <span class="org-string">"1px solid gray"</span>,
                <span class="org-string">"padding"</span>: <span class="org-string">"8px 0"</span>
            })
            .appendTo($div.find(<span class="org-string">"ul"</span>))
    });

    <span class="org-comment-delimiter">// </span><span class="org-comment">3. &#28155;&#21152;&#20851;&#38381;&#20107;&#20214;</span>
    $div.find(<span class="org-string">"i"</span>).click(<span class="org-keyword">function</span> () {
        $div.fadeOut(5000, <span class="org-keyword">function</span> () {
            $div.remove();
        });
    });
}

<span class="org-keyword">function</span> <span class="org-function-name">showPositionsFloatWindow3</span>() {
    <span class="org-comment-delimiter">// </span><span class="org-comment">1. &#21019;&#24314;&#33410;&#28857;&#65292;&#25918;&#21040; body&#65292;&#28982;&#21518;&#35753;&#23427;&#28014;&#21160;&#36215;&#26469;</span>
    <span class="org-keyword">var</span> <span class="org-variable-name">$div</span> = $(<span class="org-string">"&lt;div&gt;&lt;i&gt;x&lt;/i&gt;&lt;ul&gt;&lt;/ul&gt;&lt;/div&gt;"</span>).appendTo(<span class="org-string">"body"</span>);

    <span class="org-comment-delimiter">// </span><span class="org-comment">2. &#20174;&#39029;&#38754;&#20013;&#33719;&#21462;&#30456;&#20851;&#25968;&#25454;&#65292;&#24182;&#19988;&#23558;&#25968;&#25454;&#26174;&#31034;&#21040;&#21018;&#25165;&#30340; &#33410;&#28857;&#19978;</span>
    $(<span class="org-string">".default_list"</span>).each(<span class="org-keyword">function</span> (<span class="org-variable-name">index</span>, <span class="org-variable-name">item</span>) {
        $(<span class="org-string">"&lt;li&gt;"</span> + $(item).attr(<span class="org-string">"data-positionname"</span>) + <span class="org-string">" / "</span> + $(item).attr(<span class="org-string">"data-salary"</span>) + <span class="org-string">"&lt;/li&gt;"</span>).appendTo($div.find(<span class="org-string">"ul"</span>))
    });

    <span class="org-comment-delimiter">// </span><span class="org-comment">3. &#28155;&#21152;&#20851;&#38381;&#20107;&#20214;</span>
    $div.find(<span class="org-string">"i"</span>).click(<span class="org-keyword">function</span> () { $div.remove(); });
}
</pre>
</div>
</div>
</section>
<section id="outline-container-orgf391795" class="outline-2">
<h2 id="orgf391795"><span class="section-number-2">11</span> 示例. 任务列表</h2>
<div class="outline-text-2" id="text-11">
<div class="org-src-container">
<pre class="src src-html"><span class="org-string">&lt;!doctype html&gt;</span>
&lt;<span class="org-function-name">html</span> <span class="org-variable-name">lang</span>=<span class="org-string">"en"</span>&gt;
  &lt;<span class="org-function-name">head</span>&gt;
    &lt;<span class="org-function-name">meta</span> <span class="org-variable-name">charset</span>=<span class="org-string">"UTF-8"</span>/&gt;
    &lt;<span class="org-function-name">title</span>&gt;<span class="org-underline"><span class="org-bold">&#20219;&#21153;&#21015;&#34920;</span></span>&lt;/<span class="org-function-name">title</span>&gt;
    &lt;<span class="org-function-name">link</span> <span class="org-variable-name">href</span>=<span class="org-string">"https://cdn.bootcss.com/font-awesome/5.10.0-12/css/all.min.css"</span> <span class="org-variable-name">rel</span>=<span class="org-string">"stylesheet"</span>&gt;
    &lt;<span class="org-function-name">script</span> <span class="org-variable-name">src</span>=<span class="org-string">"https://cdn.bootcss.com/jquery/3.2.1/jquery.js"</span>&gt;&lt;/<span class="org-function-name">script</span>&gt;
    &lt;<span class="org-function-name">style</span>&gt;
     * { padding: 0; margin: 0; box-sizing: border-box }

     body {
       background-image: linear-gradient(120deg, red, orange, yellow, green, blue, purple);
       height: 100vh;
       font-family: <span class="org-string">"&#23435;&#20307;"</span>;
     }

     .container {
       max-width: 500px;
       margin: 0 auto;
       padding: 5px;
     }

     input {
       border: 0;
       outline: 0;
       background: none;
       border-bottom: 2px solid black;
       width: 100%;
       padding: 5px;
     }

     h3 {
       margin-top: 15px;
       margin-bottom: 5px;
     }

     .task {
       background: rgba(255, 255, 255, 0.6);
       margin: 5px 0;
       padding: 5px;
       border-radius: 5px;
     }

     .task i {
       float: right;
       margin-right: 10px;
       cursor: pointer;
     }

     .done .task {
       background: rgba(0, 0, 0, 0.5);
       color: white;
     }
    &lt;/<span class="org-function-name">style</span>&gt;
  &lt;/<span class="org-function-name">head</span>&gt;
  &lt;<span class="org-function-name">body</span>&gt;

    &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"container"</span>&gt;
      &lt;<span class="org-function-name">input</span> <span class="org-variable-name">type</span>=<span class="org-string">"text"</span> <span class="org-variable-name">value</span>=<span class="org-string">""</span>/&gt;

      &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"todo"</span>&gt;
        &lt;<span class="org-function-name">h3</span>&gt;<span class="org-underline"><span class="org-italic">&#26410;&#23436;&#25104;&#20219;&#21153;</span></span>&lt;/<span class="org-function-name">h3</span>&gt;
      &lt;/<span class="org-function-name">div</span>&gt;

      &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"done"</span>&gt;
        &lt;<span class="org-function-name">h3</span>&gt;<span class="org-underline"><span class="org-italic">&#24050;&#23436;&#25104;&#20219;&#21153;</span></span>&lt;/<span class="org-function-name">h3</span>&gt;
      &lt;/<span class="org-function-name">div</span>&gt;
    &lt;/<span class="org-function-name">div</span>&gt;

    &lt;<span class="org-function-name">script</span>&gt;
     $(<span class="org-string">"input"</span>).on('keyup', function (e) {
       if (e.keyCode === 13 &amp;&amp; $(this).val()) {
         var $task =
           $(<span class="org-string">"&lt;div class='task'&gt;&lt;/div&gt;"</span>)
           .text($(this).val())
           .append(<span class="org-string">"&lt;i class='save fa fa-paper-plane'&gt;&lt;/i&gt;"</span>)
           .append(<span class="org-string">"&lt;i class='del fa fa-trash'&gt;&lt;/i&gt;"</span>);

         $task.find(<span class="org-string">".del"</span>).click(function () {
           $el = $(this).parent();
           $el.fadeOut(function () {
             $el.remove();
           });
         });

         $task.find(<span class="org-string">".save"</span>).click(function () {
           $el = $(this).parent();
           $el.fadeOut(function () {
             $el.appendTo(<span class="org-string">".done"</span>);
             $el.fadeIn();
           });
           $el.find(<span class="org-string">".save"</span>).remove();
         });

         $(<span class="org-string">".todo"</span>).append($task);
         $(this).val(<span class="org-string">""</span>);
       }
     });
    &lt;/<span class="org-function-name">script</span>&gt;
  &lt;/<span class="org-function-name">body</span>&gt;
&lt;/<span class="org-function-name">html</span>&gt;
</pre>
</div>
</div>
</section>
</div>
<div id="postamble" class="status">
<p class="author">Author: yaowuer</p>
<p class="date">Created: 2019-07-31 Wed 08:32</p>
<p class="validation">Go ahead, never stop.</p>
</div>
</body>
</html>
