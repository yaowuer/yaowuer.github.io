<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2019-07-08 Mon 07:59 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Java Web</title>
<meta name="generator" content="Org mode">
<meta name="author" content="yaowuer">
<link rel='stylesheet' href='/asset/common.css' />
<script src='https://cdn.bootcss.com/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js'></script>
<script src='/asset/common.js'></script>
</head>
<body>
<div id="content">
<header>
<h1 class="title">Java Web</h1>
</header><nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgb8e28fe">1. 预习</a></li>
<li><a href="#orgaa362a8">2. CS vs BS</a></li>
<li><a href="#orgbcb5894">3. Servlet</a>
<ul>
<li><a href="#org6680e4a">3.1. 规范</a></li>
<li><a href="#orga806116">3.2. Tomcat 容器</a></li>
<li><a href="#org6e2754a">3.3. hello-world</a></li>
<li><a href="#orgdf1d803">3.4. Servlet</a>
<ul>
<li><a href="#org801f83e">3.4.1. 请求流程</a></li>
<li><a href="#org3860a2f">3.4.2. 配置方式</a></li>
</ul>
</li>
<li><a href="#orgde5d119">3.5. Filter &lt;过滤器&gt;</a></li>
<li><a href="#orgb0ec3fc">3.6. Listener &lt;监听器&gt;</a></li>
<li><a href="#org733ab16">3.7. 生命周期</a></li>
</ul>
</li>
<li><a href="#org843863a">4. JSP</a>
<ul>
<li><a href="#org87a6c48">4.1. 内置对象</a></li>
<li><a href="#org1a7046f">4.2. JSP 指令</a></li>
<li><a href="#org6f53342">4.3. JSP 动作元素</a></li>
<li><a href="#org075e934">4.4. EL 表达式 (Expression Language)</a></li>
<li><a href="#org02fc594">4.5. JSTL 标准标签库</a></li>
</ul>
</li>
<li><a href="#org3548f4b">5. forward/include/redirect</a></li>
<li><a href="#orgbab26bd">6. Cookie/Session</a></li>
<li><a href="#orgb820092">7. 文件的上次和下载</a></li>
<li><a href="#orgaf79d1c">8. 用户的注册和登录</a></li>
<li><a href="#org3c9f3e9">9. 完整的增删改查实现</a></li>
</ul>
</div>
</nav>


<section id="outline-container-orgb8e28fe" class="outline-2">
<h2 id="orgb8e28fe"><span class="section-number-2">1</span> 预习</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>下载 Tomcat 服务器，完成安装</li>
<li>了解 Tomcat 的目录结构，并学会基本配置</li>
<li>将 Tomcat 配置到 eclipse/idea 中</li>
<li>了解 Servlet/jsp 的基本概念</li>
</ul>
</div>
</section>

<section id="outline-container-orgaa362a8" class="outline-2">
<h2 id="orgaa362a8"><span class="section-number-2">2</span> CS vs BS</h2>
<div class="outline-text-2" id="text-2">
<p>
Client-Server，客户端-服务端:
</p>
<ul class="org-ul">
<li>需要安装独立的应用程序</li>
<li>开发语言丰富多彩，比如 WinForm/WPF/QT/JavaFx
<ul class="org-ul">
<li>优点，灵活、强大、可定制性强</li>
<li>缺点，对于开发者来说，开发起来麻烦，开发需要掌握的基本知识太多。对于用户来说，必须要下载并安装单独的应用</li>
</ul></li>
<li>需要网络进行交互 (tcp/ip协议，socket 编程)</li>
</ul>

<p>
Browser-Server，浏览器-服务器:
</p>
<ul class="org-ul">
<li>借助浏览器进行更多底层任务的执行</li>
<li>为了渲染页面，推出了一套规则，叫 html</li>
<li>后来 html 虽然能渲染数据，但不够好看，所以就诞生了 css</li>
<li>后来虽然有了 css 的加持，页面好看了，但是页面不会动，也让人觉得不够爽</li>
<li>所以，就产生了 JavaScript，官方的称呼为 ECMAScript，简称 ES</li>
</ul>

<p>
Web 的时代就这样来临了。
</p>

<p>
大前端统一江湖的梦想就诞生了。
</p>
</div>
</section>

<section id="outline-container-orgbcb5894" class="outline-2">
<h2 id="orgbcb5894"><span class="section-number-2">3</span> Servlet</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org6680e4a" class="outline-3">
<h3 id="org6680e4a"><span class="section-number-3">3.1</span> 规范</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Servlet3.1 规范 <a href="https://github.com/waylau/servlet-3.1-specification">中文版</a> <a href="https://jcp.org/en/jsr/detail?id=340">英文版</a>
</p>

<p>
Servlet 规范是 JCP 组织推出的一套，如何使用 Java 进行 Web 编程的规范。它本身只包含一份概念的 pdf，还有一个包含着基本接口的 Jar 包。
</p>

<p>
Servlet 规范是对所有人开放的，只要你原因，你就可以按照规范上的规定，自行去设计相关的基于 Java 的 Web 服务器。
</p>

<p>
其中，比较流行的是:
</p>
<ul class="org-ul">
<li>Apache Tomcat</li>
<li>Jetty</li>
<li>Weblogic</li>
<li>Websphare</li>
<li>JBoss</li>
</ul>

<p>
他们是基于 Java 进行 Web 编程的服务器，也可以看做是 Servlet 容器。
</p>
</div>
</div>

<div id="outline-container-orga806116" class="outline-3">
<h3 id="orga806116"><span class="section-number-3">3.2</span> Tomcat 容器</h3>
<div class="outline-text-3" id="text-3-2">
<p>
这是 Tomcat 的目录结构，也是常见开源项目的标准目录结构:
</p>


<figure>
<img src="img/scrot_2019-06-26_02-57-48.png" alt="scrot_2019-06-26_02-57-48.png">

</figure>
</div>
</div>

<div id="outline-container-org6e2754a" class="outline-3">
<h3 id="org6e2754a"><span class="section-number-3">3.3</span> hello-world</h3>
<div class="outline-text-3" id="text-3-3">
<p>
WorldServlet.java:
</p>


<figure>
<img src="img/scrot_2019-07-04_01-01-12.png" alt="scrot_2019-07-04_01-01-12.png">

</figure>

<p>
web.xml:
</p>


<figure>
<img src="img/scrot_2019-07-04_01-01-50.png" alt="scrot_2019-07-04_01-01-50.png">

</figure>
</div>
</div>

<div id="outline-container-orgdf1d803" class="outline-3">
<h3 id="orgdf1d803"><span class="section-number-3">3.4</span> Servlet</h3>
<div class="outline-text-3" id="text-3-4">
</div>
<div id="outline-container-org801f83e" class="outline-4">
<h4 id="org801f83e"><span class="section-number-4">3.4.1</span> 请求流程</h4>
<div class="outline-text-4" id="text-3-4-1">
<p>
请求的地址是:
</p>
<ul class="org-ul">
<li><a href="http://localhost:8888/w1/zzz.html">http://localhost:8888/w1/zzz.html</a></li>
</ul>

<p>
Tomcat 拿到地址后，除去 schema://host:port/contextPath，得到:
</p>
<ul class="org-ul">
<li><code>/zzz.html</code></li>
</ul>

<p>
接下来，到 web.xml 中，去匹配这个 url，得到相应的要处理的 Servlet 类:
</p>
<div class="org-src-container">
<pre class="src src-xml">&lt;<span class="org-function-name">servlet-mapping</span>&gt;
  &lt;<span class="org-function-name">servlet-name</span>&gt;worldServlet&lt;/<span class="org-function-name">servlet-name</span>&gt;
  &lt;<span class="org-function-name">url-pattern</span>&gt;/zzz.html&lt;/<span class="org-function-name">url-pattern</span>&gt;
&lt;/<span class="org-function-name">servlet-mapping</span>&gt;
</pre>
</div>

<p>
调用 servlet 里的 service 方法，得到返回的字符串，响应给客户端。
</p>

<p>
最后，客户端，将获取到的响应字符串，渲染到浏览器里面。
</p>

<p>
TODO: 自己搜索、整理一下，url-pattern 的匹配机制。
</p>
</div>
</div>

<div id="outline-container-org3860a2f" class="outline-4">
<h4 id="org3860a2f"><span class="section-number-4">3.4.2</span> 配置方式</h4>
<div class="outline-text-4" id="text-3-4-2">
<p>
xml 方式。
</p>

<p>
注解方式。
</p>
</div>
</div>
</div>

<div id="outline-container-orgde5d119" class="outline-3">
<h3 id="orgde5d119"><span class="section-number-3">3.5</span> Filter &lt;过滤器&gt;</h3>
</div>
<div id="outline-container-orgb0ec3fc" class="outline-3">
<h3 id="orgb0ec3fc"><span class="section-number-3">3.6</span> Listener &lt;监听器&gt;</h3>
</div>
<div id="outline-container-org733ab16" class="outline-3">
<h3 id="org733ab16"><span class="section-number-3">3.7</span> 生命周期</h3>
</div>
</section>
<section id="outline-container-org843863a" class="outline-2">
<h2 id="org843863a"><span class="section-number-2">4</span> JSP</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org87a6c48" class="outline-3">
<h3 id="org87a6c48"><span class="section-number-3">4.1</span> 内置对象</h3>
<div class="outline-text-3" id="text-4-1">
<p>
<code>request/response/application/config/session/out/pageContext</code>
</p>
</div>
</div>

<div id="outline-container-org1a7046f" class="outline-3">
<h3 id="org1a7046f"><span class="section-number-3">4.2</span> JSP 指令</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li><code>&lt;%@ include file="xxx.jsp" %&gt;</code></li>
<li><code>&lt;%@ taglib prefix="c" uri="xxx.tld" %&gt;</code></li>
<li><code>&lt;%@ page import/errorPage/language/pageEncoding/contentType/... %&gt;</code></li>
</ul>
</div>
</div>

<div id="outline-container-org6f53342" class="outline-3">
<h3 id="org6f53342"><span class="section-number-3">4.3</span> JSP 动作元素</h3>
<div class="outline-text-3" id="text-4-3">
<p>
<code>&lt;jsp:include/forward/useBean/setProperty/getProperty...&gt;</code>
</p>
</div>
</div>

<div id="outline-container-org075e934" class="outline-3">
<h3 id="org075e934"><span class="section-number-3">4.4</span> EL 表达式 (Expression Language)</h3>
<div class="outline-text-3" id="text-4-4">
<pre class="example">
&lt;jsp:setProperty name="box" property="ppp" value="1000"/&gt;

${expr}
${fn:length("xxxxxx")}

${param["username"]}
${header["user-agent"]}
</pre>
</div>
</div>

<div id="outline-container-org02fc594" class="outline-3">
<h3 id="org02fc594"><span class="section-number-3">4.5</span> JSTL 标准标签库</h3>
<div class="outline-text-3" id="text-4-5">
<p>
jar 包:
</p>
<pre class="example">
javax.servlet:jstl:1.2
</pre>

<p>
功能:
</p>
<ul class="org-ul">
<li>核心标签</li>
<li>格式化标签</li>
<li>SQL/XML 标签</li>
<li>JSTL 函数</li>
</ul>

<p>
使用例子:
</p>
<div class="org-src-container">
<pre class="src src-html"><span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">&#20808;&#33258;&#34892;&#23398;&#20064; </span><span class="org-comment-delimiter">--&gt;</span>
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org3548f4b" class="outline-2">
<h2 id="org3548f4b"><span class="section-number-2">5</span> forward/include/redirect</h2>
</section>
<section id="outline-container-orgbab26bd" class="outline-2">
<h2 id="orgbab26bd"><span class="section-number-2">6</span> Cookie/Session</h2>
</section>
<section id="outline-container-orgb820092" class="outline-2">
<h2 id="orgb820092"><span class="section-number-2">7</span> 文件的上次和下载</h2>
</section>
<section id="outline-container-orgaf79d1c" class="outline-2">
<h2 id="orgaf79d1c"><span class="section-number-2">8</span> 用户的注册和登录</h2>
</section>
<section id="outline-container-org3c9f3e9" class="outline-2">
<h2 id="org3c9f3e9"><span class="section-number-2">9</span> 完整的增删改查实现</h2>
</section>
</div>
<div id="postamble" class="status">
<p class="author">Author: yaowuer</p>
<p class="date">Created: 2019-07-08 Mon 07:59</p>
<p class="validation">Go ahead, never stop.</p>
</div>
</body>
</html>
